--- # Provison Of Kubernetes Cluster On AWS Infrastructure
#---------------------------------------------------------
- name: Provision Of AWS Infrastructure
  hosts: localhost
  connection: local
  remote_user: abhi
  become_method: sudo
  gather_facts: no
  tasks:
    - include: /home/abhi/Playbooks/Instances.yaml
    - pause:
         minutes: 5
    - include: /home/abhi/Playbooks/update.yaml
      ignore_errors: yes

# Provisioning Kubernetes Master On AWS Infrastructure
- name: Provision Of Kubernetes Master On AWS Infrastructure
  hosts: tag_Name_KubernetesMaster
  connection: ssh
  remote_user: ubuntu
  become: yes
  gather_facts: yes
  roles:
    - Kubernetes_master


# Provisioning Kubernetes Nodes On AWS Infrastructure
- name: Provision Of Kubernetes Nodes On AWS Infrastructure
  hosts: tag_Name_KubernetesNode
  connection: ssh
  remote_user: ubuntu
  become: yes
  gather_facts: yes
  roles:
    - Kubernetes_nodes

