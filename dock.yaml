--- # Playbook to install and run Docker
- hosts: ubuntu
  user: abhi
  sudo: yes
  connection: ssh
  gather_facts: no
  tasks:
    - name: Install docker
      action: apt name=docker.io state=installed
      notify: Restart docker
    - name: pulling ubuntu image
      command: docker pull ubuntu
    - name: pulling nginx image
      command: docker pull nginx
    - name: creating container
      command: docker run -d -p 8080:80 nginx
  handlers:
    - name: Restart docker
      action: service name=docker state=restarted
